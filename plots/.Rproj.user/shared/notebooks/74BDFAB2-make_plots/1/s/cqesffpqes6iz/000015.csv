"0","# Define the custom function"
"0","create_weekly_time_series <- function(annual_values) {"
"0","    # Initialize an empty list to store weekly values"
"0","    weekly_values <- list()"
"0","    "
"0","    # Loop through each year and calculate weekly values"
"0","    for (year in annual_values$Year) {"
"0","        annual_value <- annual_values$Emissions[annual_values$Year == year]"
"0","        portions_total <- sum(1:52)"
"0","        "
"0","        # Calculate weekly values"
"0","        weekly_values_for_year <- sapply(1:52, function(week) {"
"0","            weekly_value <- annual_value/52"
"0","            return(weekly_value)"
"0","        })"
"0","        "
"0","        # Append the weekly values to the list"
"0","        weekly_values[[as.character(year)]] <- weekly_values_for_year"
"0","    }"
"0","    "
"0","    # Convert the list to a data frame with one column of weekly values"
"0","    # weekly_values_df <- data.frame(Emissions=matrix(unlist(weekly_values), nrow=length(unlist(weekly_values)), byrow=TRUE))"
"0","    "
"0","    # Add the year column to the data frame"
"0","    # weekly_values_df$Year <- rep(annual_values$Year, each=52)"
"0","    "
"0","    # Return the data frame"
"0","    return(unlist(weekly_values))"
"0","}"
"0",""
"0",""
"0","gasoline_ghg_emissions_us_weekly <- create_weekly_time_series(gasoline_ghg_emissions_us)"
"0",""
"0","# Print the weekly time series data"
"0","gasoline_ghg_emissions_us_weekly[1:9]"
"1","      18501 "
"1","      18502 "
"1","      18503 "
"1","      18504 "
"1","      18505 "
"1","      18506 "
"1","      18507 "
"1","      18508 "
"1","      18509 "
"1","
"
"1","0.003715178 "
"1","0.003715178 "
"1","0.003715178 "
"1","0.003715178 "
"1","0.003715178 "
"1","0.003715178 "
"1","0.003715178 "
"1","0.003715178 "
"1","0.003715178 "
"1","
"
"0","# Plot the weekly time series data"
"0","plot(gasoline_ghg_emissions_us_weekly, type='l', xlab='Week', ylab='Emissions (GtCO2e)', main='US GHG Emissions from Motor Gasoline: 1990-2022', font.lab=2, font.main=2, family='serif')"
